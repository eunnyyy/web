<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/css.css">
</head>
<body>
    <div class="warp">
        <h1 id="title">할 일 목록</h1>
        <button id="add-btn">목록추가</button>

        <ul id="list">
            <li>제목1</li>
            <li>제목2</li>
            <li>제목3</li>
            <li>제목4</li>
        </ul>
    </div>


<script type="text/javascript">
var title=document.getElementById("title");
var list=document.getElementById("list");
var li=list.getElementsByTagName("li");
var addBtn=document.getElementById('add-btn');
// var listCounter=1;
// 변수초기화

//이벤트 리스너
list.addEventListener('click', activeItem);

function activeItem(event){
    //클릭한 노드가 li이면
    if(event.target.nodeName =='LI'){
        //event.target은 클릭한 개체를 의미
        title.innerHTML=event.target.innerText;

        //목록 스타일 초기화
        for(var i=0; i<event.target.parentNode.children.length; i++){
            event.target.parentNode.children[i].removeAttribute('class');
        }
        //클릭한 목록 스타일 지정
        event.target.setAttribute('class','active');
        //클릭한 대상
        document.getElementById('title').style.color="blue";
        document.getElementById('title').style.background="yellow";
    }
    //end if
}
//end function




// for(var i=0; i<li.length; i++){
//     li[i].addEventListener('click',activeItem);
// }

// function activeItem(){
//     console.log(this);
//     title.innerHTML=this.innerText;
//     for(var i=0; i<li.length; i++){
//         li[i].removeAttribute('class');
//     }
//     this.setAttribute('class','active');
// }



//목록 추가
addBtn.addEventListener('click',function(){
    var txt=prompt("제목 입력");
    list.innerHTML += '<li>'+txt+'</li>';
});


    </script>
</body>
</html>